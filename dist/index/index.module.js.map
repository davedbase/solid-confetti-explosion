{"version":3,"file":"index.module.js","sources":["../../src/index.tsx"],"sourcesContent":["import {\n  Component,\n  Show,\n  For,\n  onMount,\n  Accessor,\n  mergeProps,\n  createMemo,\n  createSignal,\n  onCleanup,\n} from 'solid-js';\nimport { styled, keyframes } from 'solid-styled-components';\n\ntype Particle = {\n  color: string; // color of particle\n  degree: number; // vector direction, between 0-360 (0 being straight up â†‘)\n};\ntype Rotate3dTransform = [number, number, number];\ntype ParticleShape = 'mix' | 'circles' | 'rectangles';\ninterface IConfettiExplosion {\n  count?: number;\n  colors?: string[];\n  particleCount?: number;\n  particleSize?: number;\n  particlesShape?: ParticleShape;\n  duration?: number;\n  force?: number;\n  stageHeight?: number;\n  stageWidth?: number;\n  shouldDestroyAfterDone?: boolean;\n}\n\ndeclare module 'solid-js' {\n  namespace JSX {\n    interface Directives {\n      confettiStyles: Particle & IConfettiExplosion;\n    }\n  }\n}\n\nconst ROTATION_SPEED_MIN = 200; // minimum possible duration of single particle full rotation\nconst ROTATION_SPEED_MAX = 800; // maximum possible duration of single particle full rotation\nconst CRAZY_PARTICLES_FREQUENCY = 0.1; // 0-1 frequency of crazy curvy unpredictable particles\nconst CRAZY_PARTICLE_CRAZINESS = 0.3; // 0-1 how crazy these crazy particles are\nconst BEZIER_MEDIAN = 0.5; // utility for mid-point bezier curves, to ensure smooth motion paths\n\nconst FORCE = 0.5; // 0-1 roughly the vertical force at which particles initially explode\nconst SIZE = 12; // max height for particle rectangles, diameter for particle circles\nconst FLOOR_HEIGHT = 800; // pixels the particles will fall from initial explosion point\nconst FLOOR_WIDTH = 1600; // horizontal spread of particles in pixels\nconst PARTICLE_COUNT = 150;\nconst DURATION = 3500;\nconst COLORS = ['#FFC700', '#FF0000', '#2E3191', '#41BBC7'];\n\nconst createParticles = (count: number, colors: string[]): Particle[] => {\n  const increment = 360 / count;\n  return Array.from({ length: count }, (_, i) => ({\n    color: colors[i % colors.length],\n    degree: i * increment,\n  }));\n};\n\nfunction round(num: number, precision: number = 2) {\n  return Math.round((num + Number.EPSILON) * 10 ** precision) / 10 ** precision;\n}\n\nfunction arraysEqual<ItemType>(a: ItemType[], b: ItemType[]) {\n  if (a === b) return true;\n  if (a == null || b == null) return false;\n  if (a.length !== b.length) return false;\n  for (let i = 0; i < a.length; i++) if (a[i] !== b[i]) return false;\n  return true;\n}\n\nconst mapRange = (\n  value: number,\n  x1: number,\n  y1: number,\n  x2: number,\n  y2: number\n) => ((value - x1) * (y2 - x2)) / (y1 - x1) + x2;\n\nconst rotate = (degree: number, amount: number) => {\n  const result = degree + amount;\n  return result > 360 ? result - 360 : result;\n};\n\nconst coinFlip = () => Math.random() > 0.5;\n\n// avoid this for circles, as it will have no visual effect\nconst zAxisRotation: Rotate3dTransform = [0, 0, 1];\n\nconst rotationTransforms: Rotate3dTransform[] = [\n  // dual axis rotations (a bit more realistic)\n  [1, 1, 0],\n  [1, 0, 1],\n  [0, 1, 1],\n  // single axis rotations (a bit dumber)\n  [1, 0, 0],\n  [0, 1, 0],\n  zAxisRotation,\n];\n\nconst shouldBeCircle = (rotationIndex: number) =>\n  !arraysEqual(rotationTransforms[rotationIndex], zAxisRotation) && coinFlip();\n\nconst isUndefined = (value: any) => typeof value === 'undefined';\n\nconst error = (message: string) => {\n  console.error(message);\n};\n\nfunction validate(\n  particleCount: number,\n  duration: number,\n  colors: string[],\n  particleSize: number,\n  force: number,\n  stageHeight: number,\n  stageWidth: number,\n  particlesShape: ParticleShape\n) {\n  const isSafeInteger = Number.isSafeInteger;\n  if (\n    !isUndefined(particleCount) &&\n    isSafeInteger(particleCount) &&\n    particleCount < 0\n  ) {\n    error('particleCount must be a positive integer');\n    return false;\n  }\n  if (!isUndefined(duration) && isSafeInteger(duration) && duration < 0) {\n    error('duration must be a positive integer');\n    return false;\n  }\n  if (\n    !isUndefined(particlesShape) &&\n    !['mix', 'circles', 'rectangles'].includes(particlesShape)\n  ) {\n    error('particlesShape should be either \"mix\" or \"circles\" or \"rectangle\"');\n    return false;\n  }\n  if (!isUndefined(colors) && !Array.isArray(colors)) {\n    error('colors must be an array of strings');\n    return false;\n  }\n  if (\n    !isUndefined(particleSize) &&\n    isSafeInteger(particleSize) &&\n    particleSize < 0\n  ) {\n    error('particleSize must be a positive integer');\n    return false;\n  }\n  if (!isUndefined(force) && isSafeInteger(force) && (force < 0 || force > 1)) {\n    error('force must be a positive integer and should be within 0 and 1');\n    return false;\n  }\n  if (\n    !isUndefined(stageHeight) &&\n    typeof stageHeight === 'number' &&\n    isSafeInteger(stageHeight) &&\n    stageHeight < 0\n  ) {\n    error('floorHeight must be a positive integer');\n    return false;\n  }\n  if (\n    !isUndefined(stageWidth) &&\n    typeof stageWidth === 'number' &&\n    isSafeInteger(stageWidth) &&\n    stageWidth < 0\n  ) {\n    error('floorWidth must be a positive integer');\n    return false;\n  }\n  return true;\n}\n\nconst confettiStyles = (\n  node: HTMLDivElement,\n  inOptions: Accessor<Particle & IConfettiExplosion>\n) => {\n  const opts = inOptions();\n  // Get x landing point for it\n  const landingPoint = mapRange(\n    Math.abs(rotate(opts.degree, 90) - 180),\n    0,\n    180,\n    -opts.stageWidth! / 2,\n    opts.stageWidth! / 2\n  );\n  // Crazy calculations for generating styles\n  const rotation =\n    Math.random() * (ROTATION_SPEED_MAX - ROTATION_SPEED_MIN) +\n    ROTATION_SPEED_MIN;\n  const rotationIndex = Math.round(\n    Math.random() * (rotationTransforms.length - 1)\n  );\n  const durationChaos = opts.duration! - Math.round(Math.random() * 1000);\n  const shouldBeCrazy = Math.random() < CRAZY_PARTICLES_FREQUENCY;\n  const isCircle =\n    opts.particlesShape !== 'rectangles' &&\n    (opts.particlesShape === 'circles' || shouldBeCircle(rotationIndex));\n\n  // x-axis disturbance, roughly the distance the particle will initially deviate from its target\n  const x1 = shouldBeCrazy\n    ? round(Math.random() * CRAZY_PARTICLE_CRAZINESS, 2)\n    : 0;\n  const x2 = x1 * -1;\n  const x3 = x1;\n  // x-axis arc of explosion, so 90deg and 270deg particles have curve of 1, 0deg and 180deg have 0\n  const x4 = round(\n    Math.abs(mapRange(Math.abs(rotate(opts.degree, 90) - 180), 0, 180, -1, 1)),\n    4\n  );\n\n  // roughly how fast particle reaches end of its explosion curve\n  const y1 = round(Math.random() * BEZIER_MEDIAN, 4);\n  // roughly maps to the distance particle goes before reaching free-fall\n  const y2 = round(Math.random() * opts.force! * (coinFlip() ? 1 : -1), 4);\n  // roughly how soon the particle transitions from explosion to free-fall\n  const y3 = BEZIER_MEDIAN;\n  // roughly the ease of free-fall\n  const y4 = round(\n    Math.max(\n      mapRange(Math.abs(opts.degree - 180), 0, 180, opts.force!, -opts.force!),\n      0\n    ),\n    4\n  );\n  const setCSSVar = (key: string, val: string | number) =>\n    node.style.setProperty(key, val + '');\n\n  setCSSVar('--x-landing-point', `${landingPoint}px`);\n  setCSSVar('--duration-chaos', `${durationChaos}ms`);\n\n  setCSSVar('--x1', `${x1}`);\n  setCSSVar('--x2', `${x2}`);\n  setCSSVar('--x3', `${x3}`);\n  setCSSVar('--x4', `${x4}`);\n\n  setCSSVar('--y1', `${y1}`);\n  setCSSVar('--y2', `${y2}`);\n  setCSSVar('--y3', `${y3}`);\n  setCSSVar('--y4', `${y4}`);\n\n  // set --width and --height here\n  setCSSVar(\n    '--width',\n    `${\n      isCircle\n        ? opts.particleSize\n        : Math.round(Math.random() * 4) + opts.particleSize! / 2\n    }px`\n  );\n  setCSSVar(\n    '--height',\n    (isCircle\n      ? opts.particleSize\n      : Math.round(Math.random() * 2) + opts.particleSize!) + 'px'\n  );\n\n  setCSSVar('--rotation', `${rotationTransforms[rotationIndex].join()}`);\n  setCSSVar('--rotation-duration', `${rotation}ms`);\n  setCSSVar('--border-radius', `${isCircle ? '50%' : '0'}`);\n};\nconfettiStyles;\n\nconst ConfettiExplosion: Component<IConfettiExplosion> = (inProps) => {\n  let props = mergeProps(\n    {\n      particleCount: PARTICLE_COUNT,\n      duration: DURATION,\n      colors: COLORS,\n      particleSize: SIZE,\n      force: FORCE,\n      stageHeight: FLOOR_HEIGHT,\n      stageWidth: FLOOR_WIDTH,\n      shouldDestroyAfterDone: true,\n      particlesShape: 'mix' as ParticleShape,\n    },\n    inProps\n  );\n  const [isVisible, setVisible] = createSignal(true);\n  const isValid = createMemo(() =>\n    validate(\n      props.particleCount,\n      props.duration,\n      props.colors,\n      props.particleSize,\n      props.force,\n      props.stageHeight,\n      props.stageWidth,\n      props.particlesShape\n    )\n  );\n  const particles = createMemo(() =>\n    createParticles(props.particleCount, props.colors)\n  );\n  onMount(() => {\n    const timeoutId = setTimeout(() => {\n      if (props.shouldDestroyAfterDone) {\n        setVisible(false);\n      }\n    }, props.duration);\n    onCleanup(() => clearTimeout(timeoutId));\n  });\n  return (\n    <Show when={isVisible() && isValid()}>\n      <Confetti\n        class=\"container\"\n        style={{ '--floor-height': `${props.stageHeight}px` }}\n      >\n        <For each={particles()}>\n          {(particle) => (\n            <div\n              class=\"particle\"\n              use:confettiStyles={{ ...particle, ...props }}\n            >\n              <div style={{ '--bgcolor': particle.color }} />\n            </div>\n          )}\n        </For>\n      </Confetti>\n    </Show>\n  );\n};\n\nconst yAxis = keyframes`\n  to {\n    transform: translate3d(0, var(--floor-height), 0);\n  }\n`;\nconst xAxis = keyframes`\n  to {\n    transform: translate3d(var(--x-landing-point), 0, 0);\n  }\n`;\nconst rotation = keyframes`\n  to {\n    transform: rotate3d(var(--rotation), 360deg);\n  }\n`;\nconst Confetti = styled('div')`\n  width: 0;\n  height: 0;\n  overflow: visible;\n  position: relative;\n  transform: translate3d(var(--x, 0), var(--y, 0), 0);\n  z-index: 1200;\n  .particle {\n    animation: ${xAxis} var(--duration-chaos) forwards\n      cubic-bezier(var(--x1), var(--x2), var(--x3), var(--x4));\n    div {\n      position: absolute;\n      top: 0;\n      left: 0;\n      animation: ${yAxis} var(--duration-chaos) forwards\n        cubic-bezier(var(--y1), var(--y2), var(--y3), var(--y4));\n      width: var(--width);\n      height: var(--height);\n      &:before {\n        display: block;\n        height: 100%;\n        width: 100%;\n        content: '';\n        background-color: var(--bgcolor);\n        animation: ${rotation} var(--rotation-duration) infinite linear;\n        border-radius: var(--border-radius);\n      }\n    }\n  }\n`;\n\nexport default ConfettiExplosion;\n"],"names":["ROTATION_SPEED_MIN","ROTATION_SPEED_MAX","CRAZY_PARTICLES_FREQUENCY","CRAZY_PARTICLE_CRAZINESS","BEZIER_MEDIAN","FORCE","SIZE","FLOOR_HEIGHT","FLOOR_WIDTH","PARTICLE_COUNT","DURATION","COLORS","createParticles","count","colors","increment","Array","from","length","_","i","color","degree","round","num","precision","Math","Number","EPSILON","arraysEqual","a","b","mapRange","value","x1","y1","x2","y2","rotate","amount","result","coinFlip","random","zAxisRotation","rotationTransforms","shouldBeCircle","rotationIndex","isUndefined","error","message","console","validate","particleCount","duration","particleSize","force","stageHeight","stageWidth","particlesShape","isSafeInteger","includes","isArray","confettiStyles","node","inOptions","opts","landingPoint","abs","rotation","durationChaos","shouldBeCrazy","isCircle","x3","x4","y3","y4","max","setCSSVar","key","val","style","setProperty","join","ConfettiExplosion","inProps","props","mergeProps","shouldDestroyAfterDone","isVisible","setVisible","createSignal","isValid","createMemo","particles","onMount","timeoutId","setTimeout","onCleanup","clearTimeout","_$createComponent","_$memo","particle","_$effect","yAxis","keyframes","xAxis","Confetti","styled"],"mappings":"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"}